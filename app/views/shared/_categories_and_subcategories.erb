
<%# ///////////////////////@ MEDIA > 480px ////////////////////////// %>

<%#§////////////////// les categories/////////////////////  %>
<div data-controller="category">

  <div class="enable_on_desktop">
    <p>
      <%= link_to "PROMO", promo_path, style:"text-decoration:none;color:red;"%>
    </p>
    <% @categories.each do |category| %>
      <div data-action="mouseenter->category#sub_cat_deploy_desktop">
        <p><%=category.name%></p>
      </div>
    <% end %>
  <%#//////////////////////////////// les sous-categories /////////////////////%>
  </div>
    <div id="subcatdesktopmenu", class="subcategorydesktopmenu", style="display:none", data-controller="category", data-action="mouseleave->category#sub_cat_hidding_desktop">
      <% Subcategory.all.each do |subcategory| %>
        <p  class="subcat <%=subcategory.category.name%>" style="color:black">
          <%= subcategory.name %>
        </p>
      <% end %>
    </div>
</div>


<%# ///////////////////////@ MEDIA < 481px ////////////////////////// %>
<div class="enable_on_smartphone">
  <div class="container" , style="margin-top:0vh;">
    <div data-controller="category">
      <div id="categories_left_barre" data-action="mouseover->category#slidecategorymenu">
          <h3 style="writing-mode: vertical-rl;text-align:center;margin-top:3vh;">CATEGORIES</h3>
      </div>
      <div id="smalldevicecategories" class="menucategory" >
        <div class="categorymenu">
          <p><%= link_to "PROMO", promo_path, style:"text-decoration:none;color:red;"%></p>
        </div>
      <% @categories.each do |category| %>
        <div class="categorymenu", data-action="click->category#displaysubcategory">
        <%# Le style color black doit etre forcé en balise pour le pages home je ne sais pas pourquoi %>
          <p style="color:black"><%=category.name%></p>
        </div>
        <% end %>
        <img src="https://www.svgrepo.com/show/50/circular-arrow.svg" class="categoryarrowback" data-action="click->category#hidecategorymenu">
      </div>
      <%# <% sous catégories listées dans un premier temps mais le menu n'ets pas display, avec le nom de leur catégorie référente en class %>
      <div id="subcatmenu" class="subcategorymenu">
        <% Subcategory.all.each do |subcategory| %>
          <%# Le style color black doit etre forcé en balise pour le pages home je ne sais pas pourquoi%>
          <p class="subcat <%=subcategory.category.name%>" style="color:black">
            <%= subcategory.name %>
          </p>
        <% end %>
        <img src="https://www.svgrepo.com/show/50/circular-arrow.svg" class="subcategoryarrowback" data-action="click->category#hidesubcategorymenu">
      </div>
    </div>
  </div>
</div>
